class AdataFlow{constructor(e){this.element=e,this.LogLevel={INFO:0,WARNING:1,ERROR:2,DEBUG:3},this.component={},this._components={},this._componentThree={},this._globalCss={},this._loadFunctions()}render(){var e=[];this.element.body.childNodes.forEach((t=>e.push(t))),this.element.body.innerHTML=null,e.forEach((e=>this.element.body.appendChild(this._componentExecute(e))))}_componentExecute(e){var t=e.nodeName.toLowerCase();if("#text"==t)return e;if(void 0===this._components[t])throw'Component "'+t+"\" doesn't exist";var n=this._components[t](e);for(var o of e.childNodes)"#text"==o.nodeName?n.innerHTML+=o.wholeText:n.appendChild(this._componentExecute(o));return n}_componentRegister(e,t){for(var n of(Array.isArray(e)||(this._log(this.LogLevel.DEBUG,"ComponentRegister","Converting single component name into array"),e=[e]),e))void 0===this._components[n]?(this._log(this.LogLevel.INFO,"ComponentRegister","Registering new component with name: "+n),this._components[n]=t,"function"!=typeof this._components[n]&&this._log(this.LogLevel.ERROR,"ComponentRegister","Failed to register component")):this._log(this.LogLevel.ERROR,"ComponentRegister","Component with this name is already registered")}_log(e,t,n){var o=new Date;console.log("["+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()+"."+o.getMilliseconds()+"] ["+["INFO","WARNING","ERROR","DEBUG"][e]+"] ["+t+"] "+n)}_loadFunctions(){this.component={register:this._componentRegister.bind(this),execute:this._componentExecute.bind(this)}}}window.onload=()=>{var e=new AdataFlow(document);e.component.register("cd",((e={},t=null)=>{var n=document.createElement("div");return Object.keys(e).forEach((t=>{n.setAttribute(t,e[t])})),null!=t&&(n.innerHTML=t),n})),e.component.register("menu",(()=>{var e=document.createElement("div");return e.classList.add("menu"),e})),e.component.register("item",(()=>{var e=document.createElement("div");return e.classList.add("item"),e})),e.component.register("brand",(()=>{var e=document.createElement("div");return e.classList.add("brand"),e})),e.component.register("page",(()=>{var e=document.createElement("div");return e.classList.add("page"),e})),e.component.register(["image","img"],(e=>{var t=document.createElement("img");return t.classList.add("image"),t.src=e.getAttribute("source"),t})),e.render()};
